{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Dialog}from'@headlessui/react';import{useForm}from'react-hook-form';import{XMarkIcon,PencilIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PropertyEditModal=_ref=>{let{isOpen,onClose,property,onSubmit}=_ref;const[loading,setLoading]=useState(false);const{register,handleSubmit,reset,formState:{errors}}=useForm();useEffect(()=>{if(isOpen&&property){var _property$address;const addressString=typeof property.address==='string'?property.address:((_property$address=property.address)===null||_property$address===void 0?void 0:_property$address.street)||'';reset({name:property.name||'',address:addressString,city:property.city||'',state:property.state||'',zipCode:property.zipCode||property.zip_code||'',country:property.country||'US',propertyType:property.propertyType||property.property_type||'apartment',bedrooms:property.bedrooms||0,bathrooms:property.bathrooms||0,squareFootage:property.squareFootage||property.square_footage||0,yearBuilt:property.yearBuilt||property.year_built||new Date().getFullYear(),description:property.description||'',amenities:Array.isArray(property.amenities)?property.amenities.join(', '):property.amenities||'',notes:property.notes||'',monthlyRent:property.monthlyRent||property.monthly_rent||0,status:property.status||'available'});}},[isOpen,property,reset]);const handleFormSubmit=async data=>{try{setLoading(true);const updateData={id:property.id,name:data.name,address:data.address,city:data.city,state:data.state,zipCode:data.zipCode,country:data.country,propertyType:data.propertyType,bedrooms:data.bedrooms,bathrooms:data.bathrooms,squareFootage:data.squareFootage,yearBuilt:data.yearBuilt,description:data.description,amenities:data.amenities.split(',').map(a=>a.trim()).filter(Boolean),notes:data.notes,monthlyRent:data.monthlyRent,status:data.status};await onSubmit(updateData);onClose();}catch(error){console.error('Error updating property:',error);}finally{setLoading(false);}};if(!isOpen)return null;return/*#__PURE__*/_jsxs(Dialog,{open:isOpen,onClose:onClose,className:\"relative z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-25\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full items-center justify-center p-4 text-center\",children:/*#__PURE__*/_jsxs(Dialog.Panel,{className:\"w-full max-w-4xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-6 w-6 text-blue-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Dialog.Title,{className:\"text-lg font-medium text-gray-900\",children:\"Edit Property\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Update property information\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"rounded-md bg-white text-gray-400 hover:text-gray-500\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleFormSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Property Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('name',{required:'Property name is required'}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:errors.name.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Property Type\"}),/*#__PURE__*/_jsxs(\"select\",{...register('propertyType'),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"apartment\",children:\"Apartment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"house\",children:\"House\"}),/*#__PURE__*/_jsx(\"option\",{value:\"condo\",children:\"Condo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"townhouse\",children:\"Townhouse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial\",children:\"Commercial\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('address',{required:'Address is required'}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"}),errors.address&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:errors.address.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('city',{required:'City is required'}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"}),errors.city&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:errors.city.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"State *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('state',{required:'State is required'}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"}),errors.state&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:errors.state.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"ZIP Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('zipCode'),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register('country'),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Property Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Bedrooms\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",...register('bedrooms',{min:0}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Bathrooms\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.5\",...register('bathrooms',{min:0}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Square Footage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",...register('squareFootage',{min:0}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Year Built\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",...register('yearBuilt',{min:1800,max:new Date().getFullYear()}),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Monthly Rent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute left-3 top-2 text-gray-500\",children:\"$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",...register('monthlyRent',{min:0}),className:\"pl-8 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{...register('status'),className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"available\",children:\"Available\"}),/*#__PURE__*/_jsx(\"option\",{value:\"occupied\",children:\"Occupied\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"Under Maintenance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{...register('description'),rows:3,className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",placeholder:\"Detailed description of the property...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Amenities\"}),/*#__PURE__*/_jsx(\"textarea\",{...register('amenities'),rows:2,className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",placeholder:\"Comma-separated amenities (e.g., Pool, Gym, Parking)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{...register('notes'),rows:2,className:\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",placeholder:\"Internal notes about this property...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,disabled:loading,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),loading?'Saving...':'Save Changes']})]})]})]})})})]});};export default PropertyEditModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}