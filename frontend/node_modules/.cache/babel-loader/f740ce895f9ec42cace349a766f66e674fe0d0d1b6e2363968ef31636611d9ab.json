{"ast":null,"code":"import React from'react';import Modal from'../Common/Modal';import{CalendarIcon,CurrencyDollarIcon,UserIcon,HomeIcon,ClockIcon,TagIcon,PhoneIcon,EnvelopeIcon}from'@heroicons/react/24/outline';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const LeaseViewModal=_ref=>{let{isOpen,onClose,lease,onEdit,onRenew,onTerminate,onViewProperty,onViewTenant}=_ref;const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString();};const rentAmount=lease.monthlyRent||lease.rent_amount||0;const securityDeposit=lease.securityDeposit||lease.security_deposit||0;const startDate=lease.startDate||lease.start_date;const endDate=lease.endDate||lease.end_date;const tenantName=lease.tenant_name||'Unknown Tenant';const propertyName=lease.property_name||'Unknown Property';const getDaysUntilExpiry=()=>{if(!endDate)return 0;const today=new Date();const expiry=new Date(endDate);const diffTime=expiry.getTime()-today.getTime();return Math.ceil(diffTime/(1000*60*60*24));};const daysUntilExpiry=getDaysUntilExpiry();const isExpiringSoon=daysUntilExpiry<=30&&daysUntilExpiry>0;const isExpired=daysUntilExpiry<0;const getStatusColor=status=>{switch(status){case'active':return'bg-green-100 text-green-800';case'expired':return'bg-red-100 text-red-800';case'terminated':return'bg-gray-100 text-gray-800';case'pending':return'bg-yellow-100 text-yellow-800';default:return'bg-green-100 text-green-800';}};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,title:\"Lease Details\",maxWidth:\"4xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:[\"Lease #\",lease.id.slice(-8)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:propertyName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(lease.status)}`,children:[/*#__PURE__*/_jsx(TagIcon,{className:\"h-4 w-4 mr-1\"}),lease.status?lease.status.charAt(0).toUpperCase()+lease.status.slice(1):'Active']}),isExpiringSoon&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-orange-600\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 inline mr-1\"}),\"Expires in \",daysUntilExpiry,\" days\"]}),isExpired&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-red-600\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 inline mr-1\"}),\"Expired \",Math.abs(daysUntilExpiry),\" days ago\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2\",children:\"Tenant Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 text-gray-400 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:tenantName})]})]}),onViewTenant&&lease.tenant_id&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewTenant(lease.tenant_id),className:\"text-xs text-blue-600 hover:text-blue-800 font-medium\",children:\"View Tenant \\u2192\"})]}),lease.tenant_email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(EnvelopeIcon,{className:\"h-5 w-5 text-gray-400 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lease.tenant_email})]})]}),lease.tenant_phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(PhoneIcon,{className:\"h-5 w-5 text-gray-400 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lease.tenant_phone})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2\",children:\"Property Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(HomeIcon,{className:\"h-5 w-5 text-gray-400 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Property\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:propertyName})]})]}),onViewProperty&&lease.property_id&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewProperty(lease.property_id),className:\"text-xs text-blue-600 hover:text-blue-800 font-medium\",children:\"View Property \\u2192\"})]}),lease.property_address&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 w-5 text-gray-400 mr-3 mt-0.5\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:lease.property_address})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2\",children:\"Lease Terms\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Start Date\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900 mt-1\",children:formatDate(startDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"End Date\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900 mt-1\",children:formatDate(endDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Lease Type\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900 mt-1 capitalize\",children:lease.leaseType||lease.lease_type||'Fixed'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2\",children:\"Financial Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-5 w-5 text-green-600 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-700\",children:\"Monthly Rent\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-green-700 mt-1\",children:[\"$\",rentAmount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-5 w-5 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Security Deposit\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-900 mt-1\",children:[\"$\",securityDeposit.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-5 w-5 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"Late Fee\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-gray-900 mt-1\",children:[\"$\",(lease.lateFeePenalty||lease.late_fee_penalty||0).toLocaleString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\",onClick:onClose,children:\"Close\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[onEdit&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\",onClick:()=>{onEdit(lease);onClose();},children:\"Edit Lease\"}),onRenew&&(lease.status==='active'||isExpiringSoon)&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",onClick:()=>{onRenew(lease);onClose();},children:\"Renew Lease\"}),onTerminate&&lease.status==='active'&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\",onClick:()=>{onTerminate(lease);onClose();},children:\"Terminate Lease\"})]})]})]})});};export default LeaseViewModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}