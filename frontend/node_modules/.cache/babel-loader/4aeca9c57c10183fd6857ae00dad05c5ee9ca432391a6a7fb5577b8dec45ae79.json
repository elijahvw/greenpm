{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../contexts/AuthContext';import{UserCircleIcon,PencilIcon,CheckIcon,XMarkIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user,updateProfile}=useAuth();const[editing,setEditing]=useState(false);const[formData,setFormData]=useState({first_name:(user===null||user===void 0?void 0:user.first_name)||'',last_name:(user===null||user===void 0?void 0:user.last_name)||'',email:(user===null||user===void 0?void 0:user.email)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',address:(user===null||user===void 0?void 0:user.address)||''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');try{await updateProfile(formData);setSuccess('Profile updated successfully!');setEditing(false);}catch(err){setError(err.message||'Failed to update profile');}finally{setLoading(false);}};const handleCancel=()=>{setFormData({first_name:(user===null||user===void 0?void 0:user.first_name)||'',last_name:(user===null||user===void 0?void 0:user.last_name)||'',email:(user===null||user===void 0?void 0:user.email)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',address:(user===null||user===void 0?void 0:user.address)||''});setEditing(false);setError('');setSuccess('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:\"View and edit your profile information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-5 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-16 w-16 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 capitalize\",children:user===null||user===void 0?void 0:user.role})]})]}),!editing&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditing(true),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-2\"}),\"Edit Profile\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-5\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 rounded-md bg-red-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-700\",children:error})}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 rounded-md bg-green-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:success})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"First name\"}),editing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.first_name,onChange:e=>setFormData(prev=>({...prev,first_name:e.target.value})),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm\"}):/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.first_name)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Last name\"}),editing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.last_name,onChange:e=>setFormData(prev=>({...prev,last_name:e.target.value})),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm\"}):/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.last_name)||'Not provided'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),editing?/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:formData.email,onChange:e=>setFormData(prev=>({...prev,email:e.target.value})),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm\"}):/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.email)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Phone number\"}),editing?/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>setFormData(prev=>({...prev,phone:e.target.value})),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm\"}):/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.phone)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Address\"}),editing?/*#__PURE__*/_jsx(\"textarea\",{value:formData.address,onChange:e=>setFormData(prev=>({...prev,address:e.target.value})),rows:3,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm\"}):/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.address)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Role\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900 capitalize\",children:(user===null||user===void 0?void 0:user.role)||'Not provided'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:user!==null&&user!==void 0&&user.is_active?/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"Active\"}):/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"Inactive\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-900\",children:user!==null&&user!==void 0&&user.created_at?new Date(user.created_at).toLocaleDateString():'Not available'})]}),editing&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleCancel,className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4 mr-2\"}),\"Cancel\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 mr-2\"}),loading?'Saving...':'Save Changes']})]})]})]})]})]});};export default Profile;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}