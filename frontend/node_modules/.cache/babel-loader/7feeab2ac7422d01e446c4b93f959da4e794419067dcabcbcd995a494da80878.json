{"ast":null,"code":"var _jsxFileName = \"/Users/elijahward/Documents/greenpm/frontend/src/pages/Messages.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { MessageService } from '../services/api';\nimport { PlusIcon, MagnifyingGlassIcon, ChatBubbleLeftRightIcon, PaperAirplaneIcon, EllipsisVerticalIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Messages = () => {\n  _s();\n  var _selectedThread$parti;\n  const {\n    user\n  } = useAuth();\n  const [threads, setThreads] = useState([]);\n  const [selectedThread, setSelectedThread] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    fetchThreads();\n  }, []);\n  useEffect(() => {\n    if (selectedThread) {\n      fetchMessages(selectedThread.id);\n    }\n  }, [selectedThread]);\n  const fetchThreads = async () => {\n    try {\n      setLoading(true);\n      const data = await MessageService.getThreads();\n      setThreads(data.threads);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch message threads');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchMessages = async threadId => {\n    try {\n      const data = await MessageService.getMessages(threadId);\n      setMessages(data.messages);\n\n      // Mark thread as read\n      await MessageService.markThreadRead(threadId);\n    } catch (err) {\n      setError(err.message || 'Failed to fetch messages');\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedThread) return;\n    try {\n      await MessageService.sendMessage({\n        thread_id: selectedThread.id,\n        content: newMessage.trim()\n      });\n      setNewMessage('');\n      fetchMessages(selectedThread.id);\n      fetchThreads(); // Refresh thread list\n    } catch (err) {\n      setError(err.message || 'Failed to send message');\n    }\n  };\n  const filteredThreads = threads.filter(thread => {\n    var _thread$subject, _thread$participants;\n    return ((_thread$subject = thread.subject) === null || _thread$subject === void 0 ? void 0 : _thread$subject.toLowerCase().includes(searchTerm.toLowerCase())) || ((_thread$participants = thread.participants) === null || _thread$participants === void 0 ? void 0 : _thread$participants.some(p => {\n      var _p$email;\n      return (_p$email = p.email) === null || _p$email === void 0 ? void 0 : _p$email.toLowerCase().includes(searchTerm.toLowerCase());\n    }));\n  });\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/3 border-r border-gray-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-semibold text-gray-900\",\n            children: \"Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"p-2 text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(PlusIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n            children: /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500 sm:text-sm\",\n            placeholder: \"Search messages...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto\",\n        children: filteredThreads.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500\",\n          children: searchTerm ? 'No threads found' : 'No messages yet'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this) : filteredThreads.map(thread => {\n          var _user$id;\n          return /*#__PURE__*/_jsxDEV(ThreadItem, {\n            thread: thread,\n            isSelected: (selectedThread === null || selectedThread === void 0 ? void 0 : selectedThread.id) === thread.id,\n            onClick: () => setSelectedThread(thread),\n            currentUserId: user === null || user === void 0 ? void 0 : (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()\n          }, thread.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: selectedThread ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: selectedThread.subject || 'Conversation'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: [(_selectedThread$parti = selectedThread.participants) === null || _selectedThread$parti === void 0 ? void 0 : _selectedThread$parti.length, \" participants\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-2 text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(EllipsisVerticalIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n          children: messages.map(message => /*#__PURE__*/_jsxDEV(MessageItem, {\n            message: message,\n            isOwn: message.sender_id === (user === null || user === void 0 ? void 0 : user.id)\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              placeholder: \"Type a message...\",\n              className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: !newMessage.trim(),\n              className: \"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) :\n      /*#__PURE__*/\n      /* Empty State */\n      _jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n            className: \"mx-auto h-12 w-12 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mt-2 text-sm font-medium text-gray-900\",\n            children: \"No conversation selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-500\",\n            children: \"Choose a conversation from the sidebar to start messaging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"ml-2 text-red-200 hover:text-white\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(Messages, \"slxkH2abrr0v6bVW1zmRI1yHcdc=\", false, function () {\n  return [useAuth];\n});\n_c = Messages;\nconst ThreadItem = ({\n  thread,\n  isSelected,\n  onClick,\n  currentUserId\n}) => {\n  var _thread$participants2;\n  const otherParticipants = ((_thread$participants2 = thread.participants) === null || _thread$participants2 === void 0 ? void 0 : _thread$participants2.filter(p => p.id !== currentUserId)) || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: `p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${isSelected ? 'bg-green-50 border-green-200' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-gray-900 truncate\",\n          children: thread.subject || 'No subject'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 truncate\",\n          children: otherParticipants.map(p => p.email).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0 ml-2\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: new Date(thread.last_message_at).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), thread.last_message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-1 text-sm text-gray-600 truncate\",\n      children: thread.last_message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ThreadItem;\nconst MessageItem = ({\n  message,\n  isOwn\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex ${isOwn ? 'justify-end' : 'justify-start'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${isOwn ? 'bg-green-600 text-white' : 'bg-gray-100 text-gray-900'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm\",\n        children: message.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-xs mt-1 ${isOwn ? 'text-green-100' : 'text-gray-500'}`,\n        children: new Date(message.created_at).toLocaleTimeString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n_c3 = MessageItem;\nexport default Messages;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Messages\");\n$RefreshReg$(_c2, \"ThreadItem\");\n$RefreshReg$(_c3, \"MessageItem\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","MessageService","PlusIcon","MagnifyingGlassIcon","ChatBubbleLeftRightIcon","PaperAirplaneIcon","EllipsisVerticalIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Messages","_s","_selectedThread$parti","user","threads","setThreads","selectedThread","setSelectedThread","messages","setMessages","newMessage","setNewMessage","loading","setLoading","error","setError","searchTerm","setSearchTerm","fetchThreads","fetchMessages","id","data","getThreads","err","message","threadId","getMessages","markThreadRead","handleSendMessage","e","preventDefault","trim","sendMessage","thread_id","content","filteredThreads","filter","thread","_thread$subject","_thread$participants","subject","toLowerCase","includes","participants","some","p","_p$email","email","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","placeholder","length","map","_user$id","ThreadItem","isSelected","onClick","currentUserId","toString","MessageItem","isOwn","sender_id","onSubmit","disabled","_c","_thread$participants2","otherParticipants","join","Date","last_message_at","toLocaleDateString","last_message","_c2","created_at","toLocaleTimeString","_c3","$RefreshReg$"],"sources":["/Users/elijahward/Documents/greenpm/frontend/src/pages/Messages.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { MessageService } from '../services/api';\nimport { \n  PlusIcon, \n  MagnifyingGlassIcon, \n  ChatBubbleLeftRightIcon,\n  PaperAirplaneIcon,\n  EllipsisVerticalIcon\n} from '@heroicons/react/24/outline';\n\nconst Messages: React.FC = () => {\n  const { user } = useAuth();\n  const [threads, setThreads] = useState<any[]>([]);\n  const [selectedThread, setSelectedThread] = useState<any>(null);\n  const [messages, setMessages] = useState<any[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetchThreads();\n  }, []);\n\n  useEffect(() => {\n    if (selectedThread) {\n      fetchMessages(selectedThread.id);\n    }\n  }, [selectedThread]);\n\n  const fetchThreads = async () => {\n    try {\n      setLoading(true);\n      const data = await MessageService.getThreads();\n      setThreads(data.threads);\n    } catch (err: any) {\n      setError(err.message || 'Failed to fetch message threads');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMessages = async (threadId: string) => {\n    try {\n      const data = await MessageService.getMessages(threadId);\n      setMessages(data.messages);\n      \n      // Mark thread as read\n      await MessageService.markThreadRead(threadId);\n    } catch (err: any) {\n      setError(err.message || 'Failed to fetch messages');\n    }\n  };\n\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedThread) return;\n\n    try {\n      await MessageService.sendMessage({\n        thread_id: selectedThread.id,\n        content: newMessage.trim()\n      });\n      \n      setNewMessage('');\n      fetchMessages(selectedThread.id);\n      fetchThreads(); // Refresh thread list\n    } catch (err: any) {\n      setError(err.message || 'Failed to send message');\n    }\n  };\n\n  const filteredThreads = threads.filter(thread =>\n    thread.subject?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    thread.participants?.some((p: any) => \n      p.email?.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-white\">\n      {/* Sidebar */}\n      <div className=\"w-1/3 border-r border-gray-200 flex flex-col\">\n        {/* Header */}\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"text-xl font-semibold text-gray-900\">Messages</h1>\n            <button className=\"p-2 text-gray-400 hover:text-gray-600\">\n              <PlusIcon className=\"h-5 w-5\" />\n            </button>\n          </div>\n          \n          {/* Search */}\n          <div className=\"mt-4 relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n              placeholder=\"Search messages...\"\n            />\n          </div>\n        </div>\n\n        {/* Thread List */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {filteredThreads.length === 0 ? (\n            <div className=\"p-4 text-center text-gray-500\">\n              {searchTerm ? 'No threads found' : 'No messages yet'}\n            </div>\n          ) : (\n            filteredThreads.map((thread) => (\n              <ThreadItem\n                key={thread.id}\n                thread={thread}\n                isSelected={selectedThread?.id === thread.id}\n                onClick={() => setSelectedThread(thread)}\n                currentUserId={user?.id?.toString()}\n              />\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col\">\n        {selectedThread ? (\n          <>\n            {/* Chat Header */}\n            <div className=\"p-4 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-lg font-medium text-gray-900\">\n                    {selectedThread.subject || 'Conversation'}\n                  </h2>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedThread.participants?.length} participants\n                  </p>\n                </div>\n                <button className=\"p-2 text-gray-400 hover:text-gray-600\">\n                  <EllipsisVerticalIcon className=\"h-5 w-5\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {messages.map((message) => (\n                <MessageItem\n                  key={message.id}\n                  message={message}\n                  isOwn={message.sender_id === user?.id}\n                />\n              ))}\n            </div>\n\n            {/* Message Input */}\n            <div className=\"p-4 border-t border-gray-200\">\n              <form onSubmit={handleSendMessage} className=\"flex space-x-2\">\n                <input\n                  type=\"text\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  placeholder=\"Type a message...\"\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={!newMessage.trim()}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <PaperAirplaneIcon className=\"h-5 w-5\" />\n                </button>\n              </form>\n            </div>\n          </>\n        ) : (\n          /* Empty State */\n          <div className=\"flex-1 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <ChatBubbleLeftRightIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No conversation selected</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Choose a conversation from the sidebar to start messaging\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Error Toast */}\n      {error && (\n        <div className=\"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg\">\n          {error}\n          <button\n            onClick={() => setError(null)}\n            className=\"ml-2 text-red-200 hover:text-white\"\n          >\n            ×\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ThreadItem: React.FC<{\n  thread: any;\n  isSelected: boolean;\n  onClick: () => void;\n  currentUserId?: string;\n}> = ({ thread, isSelected, onClick, currentUserId }) => {\n  const otherParticipants = thread.participants?.filter(\n    (p: any) => p.id !== currentUserId\n  ) || [];\n\n  return (\n    <div\n      onClick={onClick}\n      className={`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${\n        isSelected ? 'bg-green-50 border-green-200' : ''\n      }`}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-sm font-medium text-gray-900 truncate\">\n            {thread.subject || 'No subject'}\n          </p>\n          <p className=\"text-sm text-gray-500 truncate\">\n            {otherParticipants.map((p: any) => p.email).join(', ')}\n          </p>\n        </div>\n        <div className=\"flex-shrink-0 ml-2\">\n          <p className=\"text-xs text-gray-500\">\n            {new Date(thread.last_message_at).toLocaleDateString()}\n          </p>\n        </div>\n      </div>\n      \n      {thread.last_message && (\n        <p className=\"mt-1 text-sm text-gray-600 truncate\">\n          {thread.last_message}\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst MessageItem: React.FC<{\n  message: any;\n  isOwn: boolean;\n}> = ({ message, isOwn }) => {\n  return (\n    <div className={`flex ${isOwn ? 'justify-end' : 'justify-start'}`}>\n      <div\n        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n          isOwn\n            ? 'bg-green-600 text-white'\n            : 'bg-gray-100 text-gray-900'\n        }`}\n      >\n        <p className=\"text-sm\">{message.content}</p>\n        <p className={`text-xs mt-1 ${isOwn ? 'text-green-100' : 'text-gray-500'}`}>\n          {new Date(message.created_at).toLocaleTimeString()}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}